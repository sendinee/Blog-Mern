{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zoema\\\\blog\\\\front-react\\\\src\\\\pages\\\\BlogDetail.js\";\nimport React, { Component } from \"react\";\nimport Cookies from \"js-cookie\"; // src\n\nimport { endpoint } from \"../endpoints\"; // components\n\nimport RelatedLinks from \"../component/RelatedLinks\";\nimport Navigation from \"../component/Navbar\"; // store\n\nimport store from \"../store/configureStore\";\nimport { userActionTypes } from \"../store/constants/usersAction.types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class BlogDetail extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      let myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\n      fetch(endpoint + this.props.match.params.id, {\n        method: \"GET\",\n        headers: myHeaders\n      }).then(response => response.json()).then(data => {\n        // console.log(\"blog:\", data);\n        this.setState({\n          blog: data\n        });\n        store.dispatch({\n          type: userActionTypes.LOGIN_SUCCESS,\n          payload: {\n            isLoggedIn: true\n          }\n        });\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    };\n\n    this.componentDidUpdate = () => {\n      if (this.state.blog.blogID !== this.props.match.params.id) {\n        let myHeaders = new Headers();\n        myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\n        fetch(endpoint + this.props.match.params.id, {\n          method: \"GET\",\n          headers: myHeaders\n        }).then(response => response.json()).then(data => {\n          this.setState({\n            blog: data\n          });\n        }).catch(error => {\n          console.error(\"Error:\", error);\n        });\n      }\n    };\n\n    this.renderNewBlog = event => {\n      this.props.history.push(\"/blog/\" + event.target.parentNode.id);\n      this.setState({\n        blog: {}\n      });\n      let myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\n      fetch(endpoint + event.target.parentNode.id, {\n        method: \"GET\",\n        headers: myHeaders\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          blog: data\n        });\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    };\n\n    this.state = {\n      blog: {}\n    };\n  }\n\n  render() {\n    return Object.keys(this.state.blog).length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        id: \"blog\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blog-detail\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"blog-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"blog-info\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"blog-title\",\n                children: this.state.blog.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"blog-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.blog.imageUrl,\n                alt: \"img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"blog-content\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"content\",\n                children: this.state.blog.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RelatedLinks, {\n          blog: this.state.blog,\n          renderNewBlog: this.renderNewBlog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/zoema/blog/front-react/src/pages/BlogDetail.js"],"names":["React","Component","Cookies","endpoint","RelatedLinks","Navigation","store","userActionTypes","BlogDetail","constructor","componentDidMount","myHeaders","Headers","append","get","fetch","props","match","params","id","method","headers","then","response","json","data","setState","blog","dispatch","type","LOGIN_SUCCESS","payload","isLoggedIn","catch","error","console","componentDidUpdate","state","blogID","renderNewBlog","event","history","push","target","parentNode","render","Object","keys","length","title","imageUrl","content"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n// src\r\nimport { endpoint } from \"../endpoints\";\r\n\r\n// components\r\nimport RelatedLinks from \"../component/RelatedLinks\";\r\nimport Navigation from \"../component/Navbar\";\r\n\r\n// store\r\nimport store from \"../store/configureStore\";\r\nimport { userActionTypes } from \"../store/constants/usersAction.types\";\r\n\r\nexport default class BlogDetail extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      blog: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\r\n\r\n    fetch(endpoint + this.props.match.params.id, {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // console.log(\"blog:\", data);\r\n        this.setState({ blog: data });\r\n        store.dispatch({\r\n          type: userActionTypes.LOGIN_SUCCESS,\r\n          payload: { isLoggedIn: true },\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    if (this.state.blog.blogID !== this.props.match.params.id) {\r\n      let myHeaders = new Headers();\r\n      myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\r\n\r\n      fetch(endpoint + this.props.match.params.id, {\r\n        method: \"GET\",\r\n        headers: myHeaders,\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.setState({ blog: data });\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  renderNewBlog = (event) => {\r\n    this.props.history.push(\"/blog/\" + event.target.parentNode.id);\r\n    this.setState({ blog: {} });\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + Cookies.get(\"jwt\"));\r\n    fetch(endpoint + event.target.parentNode.id, {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ blog: data });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return Object.keys(this.state.blog).length === 0 ? (\r\n      <>\r\n        <Navigation />\r\n        <p>Loading..</p>\r\n      </>\r\n    ) : (\r\n      <div>\r\n        <Navigation />\r\n        <div className=\"container\" id=\"blog\">\r\n          <div className=\"blog-detail\">\r\n            <div className=\"blog-container\">\r\n              <div className=\"blog-info\">\r\n                <h2 className=\"blog-title\">{this.state.blog.title}</h2>\r\n              </div>\r\n              <div className=\"blog-img\">\r\n                <img src={this.state.blog.imageUrl} alt=\"img\" />\r\n              </div>\r\n              <div className=\"blog-content\">\r\n                <p className=\"content\">{this.state.blog.content}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <RelatedLinks\r\n            blog={this.state.blog}\r\n            renderNewBlog={this.renderNewBlog}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}