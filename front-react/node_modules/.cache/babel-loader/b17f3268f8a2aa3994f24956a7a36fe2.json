{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zoema\\\\blog\\\\front-react\\\\src\\\\screens\\\\Admin.js\";\nimport React from 'react';\nimport { getRessources } from '../services/api_services';\nimport FormPost from '../components/FormPost';\nimport FormCategory from '../components/FormCategory';\nimport { disconnect } from '../store/actions/userActions';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      categories: [],\n      selectedCategory: null,\n      displayFormCategory: false,\n      selectedPost: null,\n      displayFormPost: false\n    };\n  }\n\n  componentDidMount() {\n    this.refresh();\n  }\n\n  refresh() {\n    getRessources(\"post\").then(async result => {\n      if (result.length > 0) {\n        let categories = await getRessources(\"category\");\n        this.setState({\n          posts: result.sort((a, b) => b.created > a.created),\n          categories: categories\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      style: {\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Admin\", /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            float: \"right\"\n          },\n          onClick: () => {\n            this.props.disconnect();\n            window.location = \"/\";\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), this.state.displayFormPost && /*#__PURE__*/_jsxDEV(FormPost, {\n        data: this.state.selectedPost,\n        refresh: () => {\n          this.refresh();\n        },\n        onHide: () => {\n          this.setState({\n            displayFormPost: false\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), this.state.displayFormCategory && /*#__PURE__*/_jsxDEV(FormCategory, {\n        data: this.state.selectedCategory,\n        refresh: () => {\n          this.refresh();\n        },\n        onHide: () => {\n          this.setState({\n            displayFormCategory: false\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), !this.state.displayFormPost && !this.state.displayFormCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flex: 1,\n            flexDirection: \"column\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: 10,\n              margin: 10,\n              tjàextAlign: \"left\",\n              width: \"110px\"\n            },\n            onClick: () => this.setState({\n              displayFormCategory: true,\n              selectedCategory: null\n            }),\n            children: \"Nouvelle Categorie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), this.state.categories.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                padding: 10,\n                margin: 10,\n                textAlign: \"left\",\n                alignItems: \"center\",\n                display: \"flex\"\n              },\n              onClick: () => {\n                this.setState({\n                  selectedCategory: item,\n                  displayFormCategory: true\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image ? item.image : \"/logo192.png\",\n                style: {\n                  width: 35,\n                  height: 35,\n                  marginRight: 10\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 31\n              }, this), item.title]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 31\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flex: 1,\n            flexDirection: \"column\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: 10,\n              margin: 10,\n              tjàextAlign: \"left\",\n              width: \"110px\"\n            },\n            onClick: () => this.setState({\n              displayFormPost: true,\n              selectedPost: null\n            }),\n            children: \"Nouveau Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), this.state.posts.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                padding: 10,\n                margin: 10,\n                textAlign: \"left\",\n                alignItems: \"center\",\n                display: \"flex\"\n              },\n              onClick: () => {\n                this.setState({\n                  selectedPost: item,\n                  displayFormPost: true\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image ? item.image : \"/logo192.png\",\n                style: {\n                  width: 35,\n                  height: 35,\n                  marginRight: 10\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 31\n              }, this), item.title, \" - \", item.title_description]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 31\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    disconnect: () => {\n      dispatch(disconnect());\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Admin);","map":{"version":3,"sources":["C:/Users/zoema/blog/front-react/src/screens/Admin.js"],"names":["React","getRessources","FormPost","FormCategory","disconnect","connect","Admin","Component","constructor","props","state","posts","categories","selectedCategory","displayFormCategory","selectedPost","displayFormPost","componentDidMount","refresh","then","result","length","setState","sort","a","b","created","render","flexDirection","float","window","location","display","flex","padding","margin","tjàextAlign","width","map","item","index","textAlign","alignItems","image","height","marginRight","title","title_description","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getRessources } from '../services/api_services';\nimport FormPost from '../components/FormPost';\nimport FormCategory from '../components/FormCategory';\nimport { disconnect } from '../store/actions/userActions';\nimport { connect } from 'react-redux';\n\nclass Admin extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.state={posts:[], categories:[],\n            selectedCategory:null, displayFormCategory:false,\n            selectedPost:null, displayFormPost:false}\n    }\n\n    componentDidMount(){\n        this.refresh();\n    }\n\n    refresh(){\n        getRessources(\"post\").then(async result=>{\n            if(result.length>0){\n                let categories = await getRessources(\"category\");\n                this.setState({posts: result.sort((a,b)=>b.created>a.created),\n                               categories: categories});\n            }\n        })\n    }\n\n    render() {\n      return (\n        <div className=\"row\" style={{flexDirection:\"column\"}}>\n          <h2>\n            Admin\n            <button style={{float:\"right\"}}\n              onClick={()=>{this.props.disconnect();\n                            window.location=\"/\"}}>\n              Logout\n            </button>\n          </h2>\n          {this.state.displayFormPost&&\n            <FormPost data={this.state.selectedPost}\n                      refresh={()=>{this.refresh()}}\n                      onHide={()=>{this.setState({displayFormPost:false})}}\n            />\n          }\n          {this.state.displayFormCategory&&\n            <FormCategory data={this.state.selectedCategory}\n                      refresh={()=>{this.refresh()}}\n                      onHide={()=>{this.setState({displayFormCategory:false})}}\n            />\n          }\n          {!this.state.displayFormPost&& !this.state.displayFormCategory&&\n            <div style={{display:\"flex\", flexDirection:\"row\"}}>\n              <div style={{display:\"flex\", flex:1, flexDirection:\"column\"}}>\n                <button style={{padding:10,margin:10, tjàextAlign:\"left\", width:\"110px\"}}\n                          onClick={()=>this.setState({displayFormCategory:true, selectedCategory:null})}>\n                      Nouvelle Categorie\n                </button>\n                {this.state.categories.map((item,index)=>{\n                      return  <button key={index} style={{padding:10,margin:10, textAlign:\"left\", alignItems:\"center\", display:\"flex\"}}\n                                  onClick={()=>{\n                                      this.setState({selectedCategory:item, displayFormCategory:true})\n                                  }}>\n                              <img src={item.image? item.image: \"/logo192.png\"} style={{width:35, height:35, marginRight:10}}/>\n                                {item.title} \n                              </button>\n                })}\n              </div>\n              <div style={{display:\"flex\", flex:1, flexDirection:\"column\"}}>\n                <button style={{padding:10,margin:10, tjàextAlign:\"left\", width:\"110px\"}}\n                          onClick={()=>this.setState({displayFormPost:true, selectedPost:null})}>\n                      Nouveau Post\n                </button>\n                {this.state.posts.map((item,index)=>{\n                      return  <button key={index} style={{padding:10,margin:10, textAlign:\"left\", alignItems:\"center\", display:\"flex\"}}\n                                  onClick={()=>{\n                                      this.setState({selectedPost:item, displayFormPost:true})\n                                  }}>\n                              <img src={item.image? item.image: \"/logo192.png\"} style={{width:35, height:35, marginRight:10}}/>\n                              {item.title} - {item.title_description}\n                              </button>\n                  })}\n              </div>\n            </div>\n          }\n        </div>\n      );\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n      disconnect: () => {dispatch(disconnect());}\n  };\n};\nexport default connect(null, mapDispatchToProps)(Admin);"]},"metadata":{},"sourceType":"module"}